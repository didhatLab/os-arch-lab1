# Eco.Lab1 - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞

## –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ Eco OS:
- **–ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** (Aggregation) - –≤–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ QueryInterface
- **–î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** (Delegation) - –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–æ–≤ —á–µ—Ä–µ–∑ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤


### üìä –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | CID | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –ú–µ—Ç–æ–¥—ã | –ü–æ–¥—Ö–æ–¥ |
|-----------|-----|------------|--------|--------|
| **CalculatorA** | `4828F6552E4540E78121EBD220DC360E` | C–ª–æ–∂–µ–Ω–∏–µ/–≤—ã—á–∏—Ç–∞–Ω–∏–µ | - | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ D –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ |
| **CalculatorB** | `AE202E543CE54550899603BD70C62565` | –°–ª–æ–∂–µ–Ω–∏–µ/–í—ã—á–∏—Ç–∞–Ω–∏–µ | Addition, Subtraction | –ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ |
| **CalculatorC** | `4828F6552E4540E78121EBD220DC360E` | –°–ª–æ–∂–µ–Ω–∏–µ/–í—ã—á–∏—Ç–∞–Ω–∏–µ | Addition, Subtraction | –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ |
| **CalculatorD** | `3A8E44677E82475CB4A3719ED8397E61` | –£–º–Ω–æ–∂–µ–Ω–∏–µ/–î–µ–ª–µ–Ω–∏–µ | Multiplication, Division | –ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ |
| **CalculatorE** | `872FEF1DE3314B87AD44D1E7C232C2F0` | –£–º–Ω–æ–∂–µ–Ω–∏–µ/–î–µ–ª–µ–Ω–∏–µ | Multiplication, Division | –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ |

## –ú–µ—Ç–æ–¥—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ IEcoLab1

### üîÑ –ú–µ—Ç–æ–¥—ã —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏

```c
int16_t BucketSortInt(int* array, uint32_t length);
int16_t BucketSortLong(long* array, uint32_t length);
int16_t BucketSortFloat(float* array, uint32_t length);
int16_t BucketSortDouble(double* array, uint32_t length);
int16_t BucketSortLongDouble(long double* array, uint32_t length);
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### ‚úÖ –£—Å–ø–µ—à–Ω—ã–µ —Ç–µ—Å—Ç—ã

```
EcoLab1 unit tests
Direct Y: 2*7=14                                    ‚Üê –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ CalculatorD
CalculatorX: 3+5=8, 10-3=7                         ‚Üê –ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ CalculatorB
CalculatorY: 4*6=24, 15/3=5                        ‚Üê –ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ CalculatorD
Delegated CalculatorC+E: 7+8=15, 20-7=13, 6*9=54, 24/4=6  ‚Üê –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
```

### üéØ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

1. **–ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ QueryInterface**:
   ```c
   // –ü–æ–ª—É—á–µ–Ω–∏–µ CalculatorB —á–µ—Ä–µ–∑ QueryInterface
   pIEcoLab1->pVTbl->QueryInterface(pIEcoLab1, &IID_IEcoCalculatorX, &pIX);
   pIX->pVTbl->Addition(pIX, 3, 5);  // –†–µ–∑—É–ª—å—Ç–∞—Ç: 8
   ```

2. **–î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤**:
   ```c
   // –ü—Ä—è–º–æ–π –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–æ–≤ —á–µ—Ä–µ–∑ CEcoLab1
   pCMe->m_pICalculatorC_X->pVTbl->Addition(pIEcoLab1, 7, 8);      // ‚Üí CalculatorC: 15
   pCMe->m_pICalculatorC_X->pVTbl->Multiplication(pIEcoLab1, 6, 9); // ‚Üí CalculatorE: 54
   ```

3. **–ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º**:
   ```c
   // –°–æ–∑–¥–∞–Ω–∏–µ CalculatorD —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–Ω—É—é —à–∏–Ω—É
   pIBus->pVTbl->QueryComponent(pIBus, &CID_EcoCalculatorD, 0, &IID_IEcoCalculatorY, &pIY);
   pIY->pVTbl->Multiplication(pIY, 2, 7);  // –†–µ–∑—É–ª—å—Ç–∞—Ç: 14
   ```

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —Å–∫—Ä–∏–ø—Ç–∞ `start.sh` –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `ECO_FRAMEWORK`:

```bash
export ECO_FRAMEWORK=/path/to/Eco.Framework
```

–ù–∞–ø—Ä–∏–º–µ—Ä:
```bash
export ECO_FRAMEWORK=/home/dan/shit/Eco.Framework
```

## –ó–∞–ø—É—Å–∫

```bash
cd /path/to/Eco.Lab1
./start.sh
```

## –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç

1. **–ü—Ä–æ–≤–µ—Ä—è–µ—Ç** –Ω–∞–ª–∏—á–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `ECO_FRAMEWORK`
2. **–û—á–∏—â–∞–µ—Ç** —Å—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã —Å–±–æ—Ä–∫–∏
3. **–°–æ–±–∏—Ä–∞–µ—Ç** –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
   - CalculatorA (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏)
   - CalculatorB (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏)
   - CalculatorD (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏)
   - CalculatorC (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏)
   - CalculatorE (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å—é –æ—Ç CalculatorB)
   - CEcoLab1 (–æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç)
   - –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç (–∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª)
4. **–ó–∞–ø—É—Å–∫–∞–µ—Ç** —Ç–µ—Å—Ç—ã
5. **–û—á–∏—â–∞–µ—Ç** –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- GCC –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä
- Eco.Framework —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω
- –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `ECO_FRAMEWORK` —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –∫–æ—Ä–µ–Ω—å —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### üîß –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏

- `lib1F5DF16EE1BF43B999A434ED38FE8F3A.a` - CEcoLab1
- `libAE202E543CE54550899603BD70C62565.a` - CalculatorB
- `lib4828F6552E4540E78121EBD220DC360E.a` - CalculatorA/C
- `lib3A8E44677E82475CB4A3719ED8397E61.a` - CalculatorD
- `lib872FEF1DE3314B87AD44D1E7C232C2F0.a` - CalculatorE

### üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
Eco.Lab1/
‚îú‚îÄ‚îÄ SourceFiles/           # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ CEcoLab1
‚îú‚îÄ‚îÄ HeaderFiles/           # –ó–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ UnitTestFiles/         # –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ AssemblyFiles/         # Makefile'—ã –¥–ª—è —Å–±–æ—Ä–∫–∏
‚îú‚îÄ‚îÄ Eco.CalculatorA/       # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç A
‚îú‚îÄ‚îÄ Eco.CalculatorB/       # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç B (–∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)
‚îú‚îÄ‚îÄ Eco.CalculatorC/       # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç C (–¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)
‚îú‚îÄ‚îÄ Eco.CalculatorD/       # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç D (–∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)
‚îú‚îÄ‚îÄ Eco.CalculatorE/       # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç E (–¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)
‚îî‚îÄ‚îÄ start.sh              # –°–∫—Ä–∏–ø—Ç —Å–±–æ—Ä–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
```

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç:
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞
- ‚úÖ –†–∞–∑–ª–∏—á–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã –∫ –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ (–∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ vs –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)
- ‚úÖ –†–∞–±–æ—Ç—É —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–Ω–æ–π —à–∏–Ω–æ–π Eco OS
- ‚úÖ –°—Ç–∞—Ç–∏—á–µ—Å–∫—É—é –∫–æ–º–ø–æ–Ω–æ–≤–∫—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- ‚úÖ –ü–æ–ª–Ω—É—é –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é —Å–±–æ—Ä–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–í—Å–µ –º–µ—Ç–æ–¥—ã –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–∞ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —á–µ—Ä–µ–∑ —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã, —á—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –≥–∏–±–∫–æ—Å—Ç—å –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã Eco OS.